<div class="form-container">
    <form [formGroup]="agendamentoForm" (ngSubmit)="onSubmit()" class="form">
        <!-- Dados do Paciente -->
        <div class="form-group-row">
            <div class="form-group descricao-group">
                <label for="descricao">Descrição</label>
                <input id="descricao" formControlName="descricao" placeholder="Digite a Descrição" class="form-control"
                    [ngClass]="{'is-invalid': agendamentoForm.get('descricao')?.invalid && agendamentoForm.get('descricao')?.touched}" />
                <div *ngIf="agendamentoForm.get('descricao')?.invalid && agendamentoForm.get('descricao')?.touched"
                    class="invalid-feedback">
                    Descrição é obrigatória.
                </div>
            </div>
            <div class="form-group">
                <label for="tipoConsulta">Tipo de Consulta</label>
                <select id="tipoConsulta" formControlName="tipoConsulta" class="form-control"
                    [ngClass]="{'is-invalid': agendamentoForm.get('tipoConsulta')?.invalid && agendamentoForm.get('tipoConsulta')?.touched}">
                    <option value="">Selecione o tipo de consulta</option>
                    <option value="PRIMEIRA_CONSULTA">Primeira Consulta</option>
                    <option value="RETORNO">Retorno</option>
                    <option value="ROTINA">Rotina</option>

                </select>
                <div *ngIf="agendamentoForm.get('tipoConsulta')?.invalid && agendamentoForm.get('tipoConsulta')?.touched"
                    class="invalid-feedback">
                    Tipo de Consulta é obrigatório.
                </div>
            </div>
            <div class="form-group">
                <label for="dataAgendamentoConsulta">Data Consulta</label>
                <input id="dataAgendamentoConsulta" formControlName="dataAgendamentoConsulta"
                    type="datetime-local" class="form-control"
                    [ngClass]="{'is-invalid': agendamentoForm.get('dataAgendamentoConsulta')?.invalid && agendamentoForm.get('dataAgendamentoConsulta')?.touched}" />
                <div *ngIf="agendamentoForm.get('dataAgendamentoConsulta')?.invalid && agendamentoForm.get('dataAgendamentoConsulta')?.touched"
                    class="invalid-feedback">
                    Data é obrigatória.
                </div>
            </div>
        </div>

        <div class="form-group-row">
            <div class="form-group">
                <label for="medico">Médico</label>
                <select id="idMedico" formControlName="idMedico" class="form-control">
                    <option value="">Selecione um Médico</option>
                    <option *ngFor="let medico of medicosOptions" [value]="medico.id">{{ medico.nome }}</option>
                </select>
            </div>

            <div class="form-group">
                <label for="paciente">Paciente</label>
                <select id="idPaciente" formControlName="idPaciente" class="form-control">
                    <option value="">Selecione um Paciente</option>
                    <option *ngFor="let paciente of pacientesOptions" [value]="paciente.id">{{ paciente.nome }}</option>
                </select>
            </div>
        </div>

        <!-- Botão Salvar -->
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Salvar</button>
            <button type="button" (click)="cancel()" class="btn btn-secondary">Cancelar</button>
        </div>
    </form>
</div>